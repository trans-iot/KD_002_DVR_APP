<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tw.msigDvrBack.manual.VwCustomerMapper">
  <resultMap id="BaseResultMap" type="tw.msigDvrBack.persistence.VwCustomer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 23 14:49:04 GMT+08:00 2018.
    -->
    <result column="gfb_device_id" jdbcType="NVARCHAR" property="gfbDeviceId" />
    <result column="user_id" jdbcType="NVARCHAR" property="userId" />
    <result column="eng_name" jdbcType="NVARCHAR" property="engName" />
    <result column="user_name" jdbcType="NVARCHAR" property="userName" />
    <result column="nickname" jdbcType="NVARCHAR" property="nickname" />
    <result column="email" jdbcType="NVARCHAR" property="email" />
    <result column="mobile_phone" jdbcType="NVARCHAR" property="mobilePhone" />
    <result column="password" jdbcType="NVARCHAR" property="password" />
    <result column="sex" jdbcType="NVARCHAR" property="sex" />
    <result column="dob" jdbcType="TIMESTAMP" property="dob" />
    <result column="addr" jdbcType="NVARCHAR" property="addr" />
    <result column="contact_phone" jdbcType="NVARCHAR" property="contactPhone" />
    <result column="cust_status" jdbcType="NVARCHAR" property="custStatus" />
    <result column="cuid" jdbcType="NVARCHAR" property="cuid" />
    <result column="agree_time" jdbcType="TIMESTAMP" property="agreeTime" />
    <result column="pic_url" jdbcType="NVARCHAR" property="picUrl" />
    <result column="acc_ctc_name" jdbcType="NVARCHAR" property="accCtcName" />
    <result column="pwd_status" jdbcType="NVARCHAR" property="pwdStatus" />
    <result column="acc_ctc_mobile" jdbcType="NVARCHAR" property="accCtcMobile" />
    <result column="app_login_time" jdbcType="TIMESTAMP" property="appLoginTime" />
  </resultMap>
  <sql id="Example_Where_Clause">
  
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 23 14:49:04 GMT+08:00 2018.
    -->
    gfb_device_id, user_id, eng_name, user_name, nickname, email, mobile_phone, password, 
    sex, dob, addr, contact_phone, cust_status, cuid, agree_time, pic_url, acc_ctc_name, 
    pwd_status, acc_ctc_mobile, app_login_time
  </sql>
  
  <insert id="insert" parameterType="tw.msigDvrBack.persistence.VwCustomer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 23 14:49:04 GMT+08:00 2018.
    -->
    insert into vw_customer (gfb_device_id, user_id, eng_name, 
      user_name, nickname, email, 
      mobile_phone, password, sex, 
      dob, addr, contact_phone, 
      cust_status, cuid, agree_time, 
      pic_url, acc_ctc_name, pwd_status, 
      acc_ctc_mobile, app_login_time)
    values (#{gfbDeviceId,jdbcType=NVARCHAR}, #{userId,jdbcType=NVARCHAR}, #{engName,jdbcType=NVARCHAR}, 
      #{userName,jdbcType=NVARCHAR}, #{nickname,jdbcType=NVARCHAR}, #{email,jdbcType=NVARCHAR}, 
      #{mobilePhone,jdbcType=NVARCHAR}, #{password,jdbcType=NVARCHAR}, #{sex,jdbcType=NVARCHAR}, 
      #{dob,jdbcType=TIMESTAMP}, #{addr,jdbcType=NVARCHAR}, #{contactPhone,jdbcType=NVARCHAR}, 
      #{custStatus,jdbcType=NVARCHAR}, #{cuid,jdbcType=NVARCHAR}, #{agreeTime,jdbcType=TIMESTAMP}, 
      #{picUrl,jdbcType=NVARCHAR}, #{accCtcName,jdbcType=NVARCHAR}, #{pwdStatus,jdbcType=NVARCHAR}, 
      #{accCtcMobile,jdbcType=NVARCHAR}, #{appLoginTime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="tw.msigDvrBack.persistence.VwCustomer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Oct 23 14:49:04 GMT+08:00 2018.
    -->
    insert into vw_customer
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="gfbDeviceId != null">
        gfb_device_id,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="engName != null">
        eng_name,
      </if>
      <if test="userName != null">
        user_name,
      </if>
      <if test="nickname != null">
        nickname,
      </if>
      <if test="email != null">
        email,
      </if>
      <if test="mobilePhone != null">
        mobile_phone,
      </if>
      <if test="password != null">
        password,
      </if>
      <if test="sex != null">
        sex,
      </if>
      <if test="dob != null">
        dob,
      </if>
      <if test="addr != null">
        addr,
      </if>
      <if test="contactPhone != null">
        contact_phone,
      </if>
      <if test="custStatus != null">
        cust_status,
      </if>
      <if test="cuid != null">
        cuid,
      </if>
      <if test="agreeTime != null">
        agree_time,
      </if>
      <if test="picUrl != null">
        pic_url,
      </if>
      <if test="accCtcName != null">
        acc_ctc_name,
      </if>
      <if test="pwdStatus != null">
        pwd_status,
      </if>
      <if test="accCtcMobile != null">
        acc_ctc_mobile,
      </if>
      <if test="appLoginTime != null">
        app_login_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="gfbDeviceId != null">
        #{gfbDeviceId,jdbcType=NVARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=NVARCHAR},
      </if>
      <if test="engName != null">
        #{engName,jdbcType=NVARCHAR},
      </if>
      <if test="userName != null">
        #{userName,jdbcType=NVARCHAR},
      </if>
      <if test="nickname != null">
        #{nickname,jdbcType=NVARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=NVARCHAR},
      </if>
      <if test="mobilePhone != null">
        #{mobilePhone,jdbcType=NVARCHAR},
      </if>
      <if test="password != null">
        #{password,jdbcType=NVARCHAR},
      </if>
      <if test="sex != null">
        #{sex,jdbcType=NVARCHAR},
      </if>
      <if test="dob != null">
        #{dob,jdbcType=TIMESTAMP},
      </if>
      <if test="addr != null">
        #{addr,jdbcType=NVARCHAR},
      </if>
      <if test="contactPhone != null">
        #{contactPhone,jdbcType=NVARCHAR},
      </if>
      <if test="custStatus != null">
        #{custStatus,jdbcType=NVARCHAR},
      </if>
      <if test="cuid != null">
        #{cuid,jdbcType=NVARCHAR},
      </if>
      <if test="agreeTime != null">
        #{agreeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="picUrl != null">
        #{picUrl,jdbcType=NVARCHAR},
      </if>
      <if test="accCtcName != null">
        #{accCtcName,jdbcType=NVARCHAR},
      </if>
      <if test="pwdStatus != null">
        #{pwdStatus,jdbcType=NVARCHAR},
      </if>
      <if test="accCtcMobile != null">
        #{accCtcMobile,jdbcType=NVARCHAR},
      </if>
      <if test="appLoginTime != null">
        #{appLoginTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  
 
  <sql id="mySqlLimit">
    <if test="page != null">
      limit #{page.begin} , #{page.perPage}
    </if>
  </sql>
  
  	<!-- 2018/10/23 Jerry  -->
	<select id="SelectByAppLoginTime" parameterType="java.util.Date" resultMap="BaseResultMap">
		 select *
		    from vw_customer
		   where CAST(app_login_time AS DATE) = CAST(DATEADD(day, #{valueDay}, GETDATE()) AS DATE)
	</select>
  
</mapper>