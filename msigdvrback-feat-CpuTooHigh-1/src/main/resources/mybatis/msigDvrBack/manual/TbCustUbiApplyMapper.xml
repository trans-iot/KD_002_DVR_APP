<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tw.msigDvrBack.manual.TbCustUbiApplyMapper">
  <resultMap id="BaseResultMap" type="tw.msigDvrBack.persistence.TbCustUbiApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    <id column="apply_no" jdbcType="NVARCHAR" property="applyNo" />
    <result column="user_id" jdbcType="NVARCHAR" property="userId" />
    <result column="apply_date" jdbcType="TIMESTAMP" property="applyDate" />
    <result column="apply_status" jdbcType="NVARCHAR" property="applyStatus" />
    <result column="insurance_rate" jdbcType="INTEGER" property="insuranceRate" />
    <result column="annual_mileage" jdbcType="INTEGER" property="annualMileage" />
    <result column="car_no" jdbcType="NVARCHAR" property="carNo" />
    <result column="eff_mileage" jdbcType="INTEGER" property="effMileage" />
    <result column="eff_mileage_date" jdbcType="DATE" property="effMileageDate" />
    <result column="eff_mileage_img" jdbcType="NVARCHAR" property="effMileageImg" />
    <result column="end_mileage" jdbcType="INTEGER" property="endMileage" />
    <result column="end_mileage_date" jdbcType="DATE" property="endMileageDate" />
    <result column="end_mileage_img" jdbcType="NVARCHAR" property="endMileageImg" />
    <result column="chk_date" jdbcType="TIMESTAMP" property="chkDate" />
    <result column="comp_date" jdbcType="TIMESTAMP" property="compDate" />
    <result column="fail_date" jdbcType="TIMESTAMP" property="failDate" />
    <result column="eff_ubi_date" jdbcType="DATE" property="effUbiDate" />
    <result column="end_ubi_date" jdbcType="DATE" property="endUbiDate" />
    <result column="contact_phone" jdbcType="NVARCHAR" property="contactPhone" />
    <result column="city" jdbcType="NVARCHAR" property="city" />
    <result column="area" jdbcType="NVARCHAR" property="area" />
    <result column="zip" jdbcType="NVARCHAR" property="zip" />
    <result column="cr_user" jdbcType="NVARCHAR" property="crUser" />
    <result column="cr_date" jdbcType="TIMESTAMP" property="crDate" />
    <result column="userstamp" jdbcType="NVARCHAR" property="userstamp" />
    <result column="datestamp" jdbcType="TIMESTAMP" property="datestamp" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    apply_no, user_id, apply_date, apply_status, insurance_rate, annual_mileage, car_no, 
    eff_mileage, eff_mileage_date, eff_mileage_img, end_mileage, end_mileage_date, end_mileage_img, 
    chk_date, comp_date, fail_date, eff_ubi_date, end_ubi_date, contact_phone, city, 
    area, zip, cr_user, cr_date, userstamp, datestamp
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from tb_cust_ubi_apply
    where apply_no = #{applyNo,jdbcType=NVARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    delete from tb_cust_ubi_apply
    where apply_no = #{applyNo,jdbcType=NVARCHAR}
  </delete>
  <insert id="insert" parameterType="tw.msigDvrBack.persistence.TbCustUbiApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    insert into tb_cust_ubi_apply (apply_no, user_id, apply_date, 
      apply_status, insurance_rate, annual_mileage, 
      car_no, eff_mileage, eff_mileage_date, 
      eff_mileage_img, end_mileage, end_mileage_date, 
      end_mileage_img, chk_date, comp_date, 
      fail_date, eff_ubi_date, end_ubi_date, 
      contact_phone, city, area, 
      zip, cr_user, cr_date, 
      userstamp, datestamp)
    values (#{applyNo,jdbcType=NVARCHAR}, #{userId,jdbcType=NVARCHAR}, #{applyDate,jdbcType=TIMESTAMP}, 
      #{applyStatus,jdbcType=NVARCHAR}, #{insuranceRate,jdbcType=INTEGER}, #{annualMileage,jdbcType=INTEGER}, 
      #{carNo,jdbcType=NVARCHAR}, #{effMileage,jdbcType=INTEGER}, #{effMileageDate,jdbcType=DATE}, 
      #{effMileageImg,jdbcType=NVARCHAR}, #{endMileage,jdbcType=INTEGER}, #{endMileageDate,jdbcType=DATE}, 
      #{endMileageImg,jdbcType=NVARCHAR}, #{chkDate,jdbcType=TIMESTAMP}, #{compDate,jdbcType=TIMESTAMP}, 
      #{failDate,jdbcType=TIMESTAMP}, #{effUbiDate,jdbcType=DATE}, #{endUbiDate,jdbcType=DATE}, 
      #{contactPhone,jdbcType=NVARCHAR}, #{city,jdbcType=NVARCHAR}, #{area,jdbcType=NVARCHAR}, 
      #{zip,jdbcType=NVARCHAR}, #{crUser,jdbcType=NVARCHAR}, #{crDate,jdbcType=TIMESTAMP}, 
      #{userstamp,jdbcType=NVARCHAR}, #{datestamp,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="tw.msigDvrBack.persistence.TbCustUbiApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    insert into tb_cust_ubi_apply
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="applyNo != null">
        apply_no,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="applyDate != null">
        apply_date,
      </if>
      <if test="applyStatus != null">
        apply_status,
      </if>
      <if test="insuranceRate != null">
        insurance_rate,
      </if>
      <if test="annualMileage != null">
        annual_mileage,
      </if>
      <if test="carNo != null">
        car_no,
      </if>
      <if test="effMileage != null">
        eff_mileage,
      </if>
      <if test="effMileageDate != null">
        eff_mileage_date,
      </if>
      <if test="effMileageImg != null">
        eff_mileage_img,
      </if>
      <if test="endMileage != null">
        end_mileage,
      </if>
      <if test="endMileageDate != null">
        end_mileage_date,
      </if>
      <if test="endMileageImg != null">
        end_mileage_img,
      </if>
      <if test="chkDate != null">
        chk_date,
      </if>
      <if test="compDate != null">
        comp_date,
      </if>
      <if test="failDate != null">
        fail_date,
      </if>
      <if test="effUbiDate != null">
        eff_ubi_date,
      </if>
      <if test="endUbiDate != null">
        end_ubi_date,
      </if>
      <if test="contactPhone != null">
        contact_phone,
      </if>
      <if test="city != null">
        city,
      </if>
      <if test="area != null">
        area,
      </if>
      <if test="zip != null">
        zip,
      </if>
      <if test="crUser != null">
        cr_user,
      </if>
      <if test="crDate != null">
        cr_date,
      </if>
      <if test="userstamp != null">
        userstamp,
      </if>
      <if test="datestamp != null">
        datestamp,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="applyNo != null">
        #{applyNo,jdbcType=NVARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=NVARCHAR},
      </if>
      <if test="applyDate != null">
        #{applyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="applyStatus != null">
        #{applyStatus,jdbcType=NVARCHAR},
      </if>
      <if test="insuranceRate != null">
        #{insuranceRate,jdbcType=INTEGER},
      </if>
      <if test="annualMileage != null">
        #{annualMileage,jdbcType=INTEGER},
      </if>
      <if test="carNo != null">
        #{carNo,jdbcType=NVARCHAR},
      </if>
      <if test="effMileage != null">
        #{effMileage,jdbcType=INTEGER},
      </if>
      <if test="effMileageDate != null">
        #{effMileageDate,jdbcType=DATE},
      </if>
      <if test="effMileageImg != null">
        #{effMileageImg,jdbcType=NVARCHAR},
      </if>
      <if test="endMileage != null">
        #{endMileage,jdbcType=INTEGER},
      </if>
      <if test="endMileageDate != null">
        #{endMileageDate,jdbcType=DATE},
      </if>
      <if test="endMileageImg != null">
        #{endMileageImg,jdbcType=NVARCHAR},
      </if>
      <if test="chkDate != null">
        #{chkDate,jdbcType=TIMESTAMP},
      </if>
      <if test="compDate != null">
        #{compDate,jdbcType=TIMESTAMP},
      </if>
      <if test="failDate != null">
        #{failDate,jdbcType=TIMESTAMP},
      </if>
      <if test="effUbiDate != null">
        #{effUbiDate,jdbcType=DATE},
      </if>
      <if test="endUbiDate != null">
        #{endUbiDate,jdbcType=DATE},
      </if>
      <if test="contactPhone != null">
        #{contactPhone,jdbcType=NVARCHAR},
      </if>
      <if test="city != null">
        #{city,jdbcType=NVARCHAR},
      </if>
      <if test="area != null">
        #{area,jdbcType=NVARCHAR},
      </if>
      <if test="zip != null">
        #{zip,jdbcType=NVARCHAR},
      </if>
      <if test="crUser != null">
        #{crUser,jdbcType=NVARCHAR},
      </if>
      <if test="crDate != null">
        #{crDate,jdbcType=TIMESTAMP},
      </if>
      <if test="userstamp != null">
        #{userstamp,jdbcType=NVARCHAR},
      </if>
      <if test="datestamp != null">
        #{datestamp,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="tw.msigDvrBack.persistence.TbCustUbiApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    update tb_cust_ubi_apply
    <set>
      <if test="userId != null">
        user_id = #{userId,jdbcType=NVARCHAR},
      </if>
      <if test="applyDate != null">
        apply_date = #{applyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="applyStatus != null">
        apply_status = #{applyStatus,jdbcType=NVARCHAR},
      </if>
      <if test="insuranceRate != null">
        insurance_rate = #{insuranceRate,jdbcType=INTEGER},
      </if>
      <if test="annualMileage != null">
        annual_mileage = #{annualMileage,jdbcType=INTEGER},
      </if>
      <if test="carNo != null">
        car_no = #{carNo,jdbcType=NVARCHAR},
      </if>
      <if test="effMileage != null">
        eff_mileage = #{effMileage,jdbcType=INTEGER},
      </if>
      <if test="effMileageDate != null">
        eff_mileage_date = #{effMileageDate,jdbcType=DATE},
      </if>
      <if test="effMileageImg != null">
        eff_mileage_img = #{effMileageImg,jdbcType=NVARCHAR},
      </if>
      <if test="endMileage != null">
        end_mileage = #{endMileage,jdbcType=INTEGER},
      </if>
      <if test="endMileageDate != null">
        end_mileage_date = #{endMileageDate,jdbcType=DATE},
      </if>
      <if test="endMileageImg != null">
        end_mileage_img = #{endMileageImg,jdbcType=NVARCHAR},
      </if>
      <if test="chkDate != null">
        chk_date = #{chkDate,jdbcType=TIMESTAMP},
      </if>
      <if test="compDate != null">
        comp_date = #{compDate,jdbcType=TIMESTAMP},
      </if>
      <if test="failDate != null">
        fail_date = #{failDate,jdbcType=TIMESTAMP},
      </if>
      <if test="effUbiDate != null">
        eff_ubi_date = #{effUbiDate,jdbcType=DATE},
      </if>
      <if test="endUbiDate != null">
        end_ubi_date = #{endUbiDate,jdbcType=DATE},
      </if>
      <if test="contactPhone != null">
        contact_phone = #{contactPhone,jdbcType=NVARCHAR},
      </if>
      <if test="city != null">
        city = #{city,jdbcType=NVARCHAR},
      </if>
      <if test="area != null">
        area = #{area,jdbcType=NVARCHAR},
      </if>
      <if test="zip != null">
        zip = #{zip,jdbcType=NVARCHAR},
      </if>
      <if test="crUser != null">
        cr_user = #{crUser,jdbcType=NVARCHAR},
      </if>
      <if test="crDate != null">
        cr_date = #{crDate,jdbcType=TIMESTAMP},
      </if>
      <if test="userstamp != null">
        userstamp = #{userstamp,jdbcType=NVARCHAR},
      </if>
      <if test="datestamp != null">
        datestamp = #{datestamp,jdbcType=TIMESTAMP},
      </if>
    </set>
    where apply_no = #{applyNo,jdbcType=NVARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="tw.msigDvrBack.persistence.TbCustUbiApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 22 14:56:16 GMT+08:00 2018.
    -->
    update tb_cust_ubi_apply
    set user_id = #{userId,jdbcType=NVARCHAR},
      apply_date = #{applyDate,jdbcType=TIMESTAMP},
      apply_status = #{applyStatus,jdbcType=NVARCHAR},
      insurance_rate = #{insuranceRate,jdbcType=INTEGER},
      annual_mileage = #{annualMileage,jdbcType=INTEGER},
      car_no = #{carNo,jdbcType=NVARCHAR},
      eff_mileage = #{effMileage,jdbcType=INTEGER},
      eff_mileage_date = #{effMileageDate,jdbcType=DATE},
      eff_mileage_img = #{effMileageImg,jdbcType=NVARCHAR},
      end_mileage = #{endMileage,jdbcType=INTEGER},
      end_mileage_date = #{endMileageDate,jdbcType=DATE},
      end_mileage_img = #{endMileageImg,jdbcType=NVARCHAR},
      chk_date = #{chkDate,jdbcType=TIMESTAMP},
      comp_date = #{compDate,jdbcType=TIMESTAMP},
      fail_date = #{failDate,jdbcType=TIMESTAMP},
      eff_ubi_date = #{effUbiDate,jdbcType=DATE},
      end_ubi_date = #{endUbiDate,jdbcType=DATE},
      contact_phone = #{contactPhone,jdbcType=NVARCHAR},
      city = #{city,jdbcType=NVARCHAR},
      area = #{area,jdbcType=NVARCHAR},
      zip = #{zip,jdbcType=NVARCHAR},
      cr_user = #{crUser,jdbcType=NVARCHAR},
      cr_date = #{crDate,jdbcType=TIMESTAMP},
      userstamp = #{userstamp,jdbcType=NVARCHAR},
      datestamp = #{datestamp,jdbcType=TIMESTAMP}
    where apply_no = #{applyNo,jdbcType=NVARCHAR}
  </update>
  <update id="updateApplyingUbi" parameterType="java.util.Map">
    update tb_cust_ubi_apply 
    set apply_status = 'CANCEL'
	 where user_id = #{userId,jdbcType=NVARCHAR}
	    and apply_status = 'I'

  </update>
  <update id="updateChkApply" parameterType="java.util.Map">
    UPDATE tb_cust_ubi_apply
		SET apply_status = 'CHK', chk_date = #{chkDate,jdbcType=TIMESTAMP}
		WHERE apply_no = #{applyNo,jdbcType=NVARCHAR}
		AND apply_status = 'I'
  </update>
  <update id="updateCancelApply" parameterType="java.util.Map">
    UPDATE tb_cust_ubi_apply
	SET apply_status = 'CANCEL', fail_date = #{cancelDate,jdbcType=TIMESTAMP}
	WHERE apply_no = #{applyNo,jdbcType=NVARCHAR}
	AND apply_status = 'I'
  </update>
  <update id="updateFailApply" parameterType="java.util.Map">
    UPDATE tb_cust_ubi_apply
	SET apply_status = 'F', fail_date = #{failDate,jdbcType=TIMESTAMP}
	WHERE apply_no = #{applyNo,jdbcType=NVARCHAR}
	AND apply_status = 'CHK'
  </update>
  <update id="updateSuccessApply" parameterType="java.util.Map">
    UPDATE tb_cust_ubi_apply	
	SET apply_status = 'COMP', comp_date = #{compDate,jdbcType=TIMESTAMP}, servicer = #{servicer,jdbcType=NVARCHAR},
	eff_ubi_date =#{effUbiDate,jdbcType=TIMESTAMP}, end_ubi_date = #{endUbiDate,jdbcType=TIMESTAMP}
	WHERE apply_no = #{applyNo,jdbcType=NVARCHAR}
	AND apply_status = 'CHK'
  </update>
</mapper>