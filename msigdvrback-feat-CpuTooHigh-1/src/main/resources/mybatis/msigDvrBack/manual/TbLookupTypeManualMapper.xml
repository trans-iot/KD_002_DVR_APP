<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="tw.msigDvrBack.manual.TbLookupTypeManualMapper">
    <sql id="msSqlrowNumberBegin">
    	rownum,
    	lookupType,
    	 dscr,
    	 valueDscr,
    	 type1Dscr,
    	 type2Dscr,
    	 type3Dscr,
    	 crUser,
    	 crDate,
    	 userstamp,
    	 datestamp,
    	 sysIndic
	    from ( 
		 select ROW_NUMBER() over (
		<if test="orderByClause != null and orderByClause != ''">
	        <if test="orderByClause == 'a.lookup_type'">
		      order by a.lookup_type
		    </if>
		    <if test="orderByClause == 'a.datestamp desc'">
		      order by a.datestamp desc
		    </if>
	    </if>
		 ) rownum, 
    </sql>
    <sql id="msSqlrowNumberEnd">
	    ) as rownumbertable
	    where rownum between (#{page.begin}+1) and (#{page.perPage} + #{page.begin})
    </sql>
    <sql id="columnName">
    			a.lookup_type as lookupType,
               a.dscr as dscr,
               a.value_dscr as valueDscr,
               a.type1_dscr as type1Dscr,
               a.type2_dscr as type2Dscr,
               a.type3_dscr as type3Dscr,
               a.cr_user as crUser,
               a.cr_date as crDate,
               a.userstamp as userstamp,
               a.datestamp as datestamp,
               a.sys_indic as sysIndic
    </sql>
    <sql id="orderByClause">
        <if test="orderByClause != null and orderByClause != ''">
            <![CDATA[ order by #{orderByClause} ]]>
        </if>
    </sql>
    <select id="countTotal" resultType="java.lang.Integer" parameterType="tw.msigDvrBack.smdd001m.SMDD001FQueryForm">
        select count(1)
          from tb_lookup_type a
        <where>
            <if test="lookupType != null and lookupType != ''">
                and a.lookup_type like upper(#{lookupType})
            </if>
            <if test="dscr != null  and dscr != ''">
                and a.dscr like  #{dscr}
            </if>
        </where>
    </select>
    <select id="getLookupTypeData" resultType="java.util.HashMap" parameterType="tw.msigDvrBack.smdd001m.SMDD001FQueryForm">
        select 
	    	<if test="page != null">
	    		<include refid="msSqlrowNumberBegin"/>
	    	</if>
        	<include refid="columnName"/>
          from tb_lookup_type a
        <where>
            <if test="lookupType != null and lookupType != ''">
                and a.lookup_type like upper(#{lookupType})
            </if>
            <if test="dscr != null and dscr != ''">
                and a.dscr like  #{dscr}
            </if>
        </where>
        <if test="page == null">
	        <include refid="orderByClause"/>
    	</if>
    	<if test="page == null">
	        <if test="orderByClause != null and orderByClause != ''">
		        <if test="orderByClause == 'a.lookup_type'">
			      order by a.lookup_type
			    </if>
			    <if test="orderByClause == 'datestamp desc'">
			      order by datestamp desc
			    </if>
		    </if>
	   	</if>
    	
        <if test="page != null">
        	<include refid="msSqlrowNumberEnd"/>
    	</if>
    </select>
    
    <select id="getTransDscr" resultType="java.lang.String" parameterType="java.lang.String">
    	select dscr 
  		from tb_lookup_cde
		where lookup_type = 'TMODE'
  		and lookup_cde = #{transMode,jdbcType=VARCHAR}
 		order by lookup_cde;
    </select>
    <resultMap id="BaseResultMap"
	type="tw.msigDvrBack.persistence.TbLookupType">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    <id column="lookup_type" property="lookupType" jdbcType="VARCHAR" />
    <result column="dscr" property="dscr" jdbcType="VARCHAR" />
    <result column="value_dscr" property="valueDscr" jdbcType="VARCHAR" />
    <result column="type1_dscr" property="type1Dscr" jdbcType="VARCHAR" />
    <result column="type2_dscr" property="type2Dscr" jdbcType="VARCHAR" />
    <result column="type3_dscr" property="type3Dscr" jdbcType="VARCHAR" />
    <result column="sys_indic" property="sysIndic" jdbcType="VARCHAR" />
    <result column="cr_user" property="crUser" jdbcType="VARCHAR" />
    <result column="CR_DATE" property="crDate" jdbcType="TIMESTAMP" />
    <result column="userstamp" property="userstamp" jdbcType="VARCHAR" />
    <result column="datestamp" property="datestamp" jdbcType="TIMESTAMP" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    lookup_type, dscr, value_dscr, type1_dscr, type2_dscr, type3_dscr, sys_indic, cr_user, 
    cr_date, userstamp, datestamp
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    from tb_lookup_type
    where lookup_type = #{lookupType,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    delete from tb_lookup_type
    where lookup_type = #{lookupType,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="tw.msigDvrBack.persistence.TbLookupType" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    insert into tb_lookup_type (lookup_type, dscr, value_dscr, 
      type1_dscr, type2_dscr, type3_dscr, 
      sys_indic, cr_user, cr_date, 
      userstamp, datestamp)
    values (#{lookupType,jdbcType=VARCHAR}, #{dscr,jdbcType=VARCHAR}, #{valueDscr,jdbcType=VARCHAR}, 
      #{type1Dscr,jdbcType=VARCHAR}, #{type2Dscr,jdbcType=VARCHAR}, #{type3Dscr,jdbcType=VARCHAR}, 
      #{sysIndic,jdbcType=VARCHAR}, #{crUser,jdbcType=VARCHAR}, #{crDate,jdbcType=TIMESTAMP}, 
      #{userstamp,jdbcType=VARCHAR}, #{datestamp,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="tw.msigDvrBack.persistence.TbLookupType" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    insert into tb_lookup_type
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="lookupType != null" >
        lookup_type,
      </if>
      <if test="dscr != null" >
        dscr,
      </if>
      <if test="valueDscr != null" >
        value_dscr,
      </if>
      <if test="type1Dscr != null" >
        type1_dscr,
      </if>
      <if test="type2Dscr != null" >
        type2_dscr,
      </if>
      <if test="type3Dscr != null" >
        type3_dscr,
      </if>
      <if test="sysIndic != null" >
        sys_indic,
      </if>
      <if test="crUser != null" >
        cr_user,
      </if>
      <if test="crDate != null" >
        cr_date,
      </if>
      <if test="userstamp != null" >
        userstamp,
      </if>
      <if test="datestamp != null" >
        datestamp,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="lookupType != null" >
        #{lookupType,jdbcType=VARCHAR},
      </if>
      <if test="dscr != null" >
        #{dscr,jdbcType=VARCHAR},
      </if>
      <if test="valueDscr != null" >
        #{valueDscr,jdbcType=VARCHAR},
      </if>
      <if test="type1Dscr != null" >
        #{type1Dscr,jdbcType=VARCHAR},
      </if>
      <if test="type2Dscr != null" >
        #{type2Dscr,jdbcType=VARCHAR},
      </if>
      <if test="type3Dscr != null" >
        #{type3Dscr,jdbcType=VARCHAR},
      </if>
      <if test="sysIndic != null" >
        #{sysIndic,jdbcType=VARCHAR},
      </if>
      <if test="crUser != null" >
        #{crUser,jdbcType=VARCHAR},
      </if>
      <if test="crDate != null" >
        #{crDate,jdbcType=TIMESTAMP},
      </if>
      <if test="userstamp != null" >
        #{userstamp,jdbcType=VARCHAR},
      </if>
      <if test="datestamp != null" >
        #{datestamp,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="java.util.Map" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    select count(*) from tb_lookup_type
    <where>
        <if test="lookupType != null and lookupType != ''">
            and lookup_type = upper(#{lookupType})
        </if>
    </where>
  </select>
  <update id="updateByPrimaryKeySelective" parameterType="tw.msigDvrBack.persistence.TbLookupType" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    update tb_lookup_type
    <set >
      <if test="dscr != null" >
        dscr = #{dscr,jdbcType=VARCHAR},
      </if>
      <if test="valueDscr != null" >
        value_dscr = #{valueDscr,jdbcType=VARCHAR},
      </if>
      <if test="type1Dscr != null" >
        type1_dscr = #{type1Dscr,jdbcType=VARCHAR},
      </if>
      <if test="type2Dscr != null" >
        type2_dscr = #{type2Dscr,jdbcType=VARCHAR},
      </if>
      <if test="type3Dscr != null" >
        type3_dscr = #{type3Dscr,jdbcType=VARCHAR},
      </if>
      <if test="sysIndic != null" >
        sys_indic = #{sysIndic,jdbcType=VARCHAR},
      </if>
      <if test="crUser != null" >
        cr_user = #{crUser,jdbcType=VARCHAR},
      </if>
      <if test="crDate != null" >
        cr_date = #{crDate,jdbcType=TIMESTAMP},
      </if>
      <if test="userstamp != null" >
        userstamp = #{userstamp,jdbcType=VARCHAR},
      </if>
      <if test="datestamp != null" >
        datestamp = #{datestamp,jdbcType=TIMESTAMP},
      </if>
    </set>
    where lookup_type = #{lookupType,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="tw.msigDvrBack.persistence.TbLookupType" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 25 09:19:27 CST 2015.
    -->
    update tb_lookup_type
    set dscr = #{dscr,jdbcType=VARCHAR},
      value_dscr = #{valueDscr,jdbcType=VARCHAR},
      type1_dscr = #{type1Dscr,jdbcType=VARCHAR},
      type2_dscr = #{type2Dscr,jdbcType=VARCHAR},
      type3_dscr = #{type3Dscr,jdbcType=VARCHAR},
      sys_indic = #{sysIndic,jdbcType=VARCHAR},
      cr_user = #{crUser,jdbcType=VARCHAR},
      cr_date = #{crDate,jdbcType=TIMESTAMP},
      userstamp = #{userstamp,jdbcType=VARCHAR},
      datestamp = #{datestamp,jdbcType=TIMESTAMP}
    where lookup_type = #{lookupType,jdbcType=VARCHAR}
  </update>
</mapper>